#!/usr/bin/env node
'use strict';

var program = require('commander'),
    pkg = require('../package.json');

program.version(pkg.version)
    .usage('[command] [options] <files ...>')
    .command('build', 'Builds a project', { isDefault: true })
    .command('test', 'Runns a self check')
    .option('-o, --outfile <outfile>', 'Write joined file to <outfile>. If this option is not present write to STDOUT')
    .option('-d, --dev', 'Enables autoloading of scripts using XHR that hadn\'t been added to the bundle file')
    .option('-b, --banner <banner>', 'Adds <banner> at the beginning of the bundle')
    .option('-r, --root <path>', 'Sets a root path')
    .option('-u, --umd <name>', 'Create a bundle and return its as an umd module. Using <name> as module name')
    .option('-s, --superjoin-file', 'Use file as superjoin file')
    .option('-w, --watch', 'Watch .js files for changes and rebuilds the bundle')
    .option('-v, --verbose', 'Enable console logging')
    .parse(process.argv);
